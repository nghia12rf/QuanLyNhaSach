@model QuanLyNhaSach.Models.SACH

@{
    ViewBag.Title = "Chi tiết sách";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>CHI TIẾT SẢN PHẨM</h2>
<hr />

<div class="row">
    <div class="col-md-4">
        <img src="@Url.Content("~/Content/Images/" + Model.ANHBIA)"
             alt="@Model.TENSACH"
             class="img-responsive" />
    </div>

    <div class="col-md-8">
        <h3 style="color: #005a9c;">@Model.TENSACH</h3>

        <p style="text-align: justify; margin-top: 15px;">
            <strong>Mô tả:</strong> @Model.MOTA
        </p>

        <p style="margin-top: 15px;">
            <strong>Ngày cập nhật:</strong> @Model.NGAYCAPNHAT.Value.ToString("dd/MM/yyyy")
        </p>

        <p style="margin-top: 15px;">
            <strong>Số lượng tồn:</strong> @Model.SOLUONGTON
        </p>

        <p>
            <strong>Nhà xuất bản:</strong> @Model.NHAXUATBAN.TENNXB
        </p>
        <p>
            <strong>Chủ đề:</strong> @Model.CHUDE.TENCHUDE
        </p>

        <div style="margin-top: 30px;">
            <span style="font-size: 2em; font-weight: bold; color: red;">
                @string.Format("{0:N0}", Model.GIABAN) VNĐ
            </span>
        </div>

        <div style="margin-top: 20px;">
            <a href="#" class="btn btn-lg btn-primary">
                <span class="glyphicon glyphicon-shopping-cart"></span> Thêm vào giỏ
            </a>
        </div>
    </div>
</div>

<div class="row" style="margin-top: 30px;">
    <div class="col-md-12">
        <h4>Tác giả tham gia:</h4>
        <ul class="list-group">
            @foreach (var tg in Model.THAMGIAs)
            {
                <li class="list-group-item">
                    <strong>@tg.TACGIA.TENTACGIA</strong> - Vai trò: @tg.VAITRO
                </li>
            }
        </ul>
    </div>
</div>
@* DÁN THAY THẾ CHO CẢ 2 KHỐI SÁCH LIÊN QUAN Ở CUỐI FILE *@

<div class="row" style="margin-top: 30px;">
    <div class="col-md-12">
        <h3 style="color: #c90000; border-bottom: 1px solid #eee; padding-bottom: 5px;">
            SÁCH CÙNG CHỦ ĐỀ
        </h3>
        <div class="row">
            @if (ViewBag.SachCungChuDe != null && ViewBag.SachCungChuDe.Count > 0)
            {
                foreach (QuanLyNhaSach.Models.SACH sach in ViewBag.SachCungChuDe)
                {
                    <div class="col-md-3 col-sm-6" style="margin-bottom: 20px;">
                        <div class="panel panel-default text-center">
                            <div class="panel-heading" style="height: 220px; padding: 10px;">
                                <a href="@Url.Action("XemChiTiet", "Sach", new { id = sach.MASACH })">
                                    <img src="@Url.Content("~/Content/Images/" + sach.ANHBIA)" alt="@sach.TENSACH" class="img-responsive" style="max-height: 200px; margin: auto;" />
                                </a>
                            </div>
                            <div class="panel-body" style="height: 60px; overflow: hidden;">
                                @Html.ActionLink(sach.TENSACH, "XemChiTiet", "Sach", new { id = sach.MASACH }, new { @style = "font-weight: bold; text-decoration: none;" })
                            </div>
                            <div class="panel-footer">
                                <span style="color: red; font-weight: bold; font-size: 1em;">
                                    @string.Format("{0:N0}", sach.GIABAN) VNĐ
                                </span>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-md-12">
                    <p>Không có sách nào cùng chủ đề.</p>
                </div>
            }
        </div>
    </div>
</div>

<div class="row" style="margin-top: 20px;">
    <div class="col-md-12">
        <h3 style="color: #c90000; border-bottom: 1px solid #eee; padding-bottom: 5px;">
            SÁCH CÙNG NHÀ XUẤT BẢN
        </h3>
        <div class="row">
            @if (ViewBag.SachCungNXB != null && ViewBag.SachCungNXB.Count > 0)
            {
                foreach (QuanLyNhaSach.Models.SACH sach in ViewBag.SachCungNXB)
                {
                    <div class="col-md-3 col-sm-6" style="margin-bottom: 20px;">
                        <div class="panel panel-default text-center">
                            <div class="panel-heading" style="height: 220px; padding: 10px;">
                                <a href="@Url.Action("XemChiTiet", "Sach", new { id = sach.MASACH })">
                                    <img src="@Url.Content("~/Content/Images/" + sach.ANHBIA)" alt="@sach.TENSACH" class="img-responsive" style="max-height: 200px; margin: auto;" />
                                </a>
                            </div>
                            <div class="panel-body" style="height: 60px; overflow: hidden;">
                                @Html.ActionLink(sach.TENSACH, "XemChiTiet", "Sach", new { id = sach.MASACH }, new { @style = "font-weight: bold; text-decoration: none;" })
                            </div>
                            <div class="panel-footer">
                                <span style="color: red; font-weight: bold; font-size: 1em;">
                                    @string.Format("{0:N0}", sach.GIABAN) VNĐ
                                </span>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-md-12">
                    <p>Không có sách nào cùng nhà xuất bản.</p>
                </div>
            }
        </div>
    </div>
</div>